<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>expense tracker </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="./tracker.css">
  </head>
  <body>
    <div class="header">      
        <p class="m-0">Expense<br>Tracker
        <img src="./spending money.png" alt="" width="35px"></p>
    </div>
    <div class="input-form">
        <div class="form-floating inputs">
            <input type="date" class="form-control dateInput" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput">Date</label>
        </div>
        <div class="form-floating inputs">
            <input type="number" class="form-control amountInput" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput">Amount</label>
        </div>
        <select class="form-select inputs transactionType" aria-label="Default select example">
            <option selected>Transaction Type</option>
            <option value="Income">Income</option>
            <option value="Expense">Expense</option>
        </select>
        <button class="btn" id="add-button" onclick="addrow()">+</button>
    </div>

    <div class="cards mt-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title m-0">Total Income
                    <img src="./wallet money.png" alt="" width="35px">
                </h5>
                <h1 class="m-0">
                    <img src="./rupee symbol.png" alt="" width="35px">
                    <span id="total-income" class="m-0">0</span>
                </h1>
            </div>
        </div>
                <div class="card">
            <div class="card-body">
                <h5 class="card-title m-0">Total Expensive
                    <img src="./expensive wallwt.png" alt="" width="35px">
                </h5>
                <h1 class="m-0">
                    <img src="./rupee symbol.png" alt="" width="35px">
                    <span id="total-expensive" class="m-0">0</span>
                </h1>
            </div>
        </div>        
        <div class="card">
            <div class="card-body">
                <h5 class="card-title m-0">Balance
                    <img src="./banace amount.png" alt="" width="35px">
                </h5>
                <h1 class="m-0">
                    <img src="./rupee symbol.png" alt="" width="35px">
                    <span id="balance" class="m-0">0</span>
                </h1>
            </div>
        </div>
    </div>

    <table class="Transaction-table" id="table">
        <tr class="header-row">
            <th>Amount</th>
            <th>Transaction Type</th>
            <th>Transaction Date</th>          
            <th>Action</th>
        </tr>

        
    </table>
    <script>
        let table=document.getElementById('table')
        console.log("table:",table)
        function deleterow(row){
            console.log(row);
            row.remove();
        }
        function addrow(){
            let date=document.getElementsByClassName('dateInput')[0].value
            let amount=document.getElementsByClassName('amountInput')[0].value
            let transactionType=document.getElementsByClassName('transactionType')[0].value
            let row=document.createElement('tr')
            let amountcell=document.createElement('td')
            amountcell.innerText=amount;
            let transactioncell=document.createElement('td')
            transactioncell.innerText=transactionType;
            let datecell=document.createElement('td')
            datecell.innerText=date;
            let bincell=document.createElement('td')
            let deletebutton=document.createElement("button")
            let binimage=document.createElement('img')
            binimage.src='./delete button.png'
            binimage.style.width='50px'
            binimage.style.height='50px'
            deletebutton.appendChild(binimage)
            deletebutton.classList.add('delete-button')
            deletebutton.onclick=()=>deleterow(row)   

            bincell.appendChild(deletebutton);


            row.appendChild(amountcell)
            row.appendChild(transactioncell)
            row.appendChild(datecell)
            row.appendChild(bincell)
            table.appendChild(row)
            let totalincome=document.getElementById('total-income').innerText
            let totalexpense=document.getElementById('total-expensive').innerText
            let totalbalance=document.getElementById('balance').innerText
            console.log('line 120:',totalincome,totalexpense,totalbalance)
          
            if(transactionType=='Income'){
               if(totalincome=='0'){
                document.getElementById('total-income').innerText=amount
               }
               else
               {
                document.getElementById('total-income').innerText=parseInt(totalincome)+parseInt(amount)
               }
               
               if(totalbalance=='0'){
                document.getElementById('balance').innerText=amount
               }
               else{
                document.getElementById('balance').innerText=parseInt(totalbalance)+parseInt(amount)
               }
            }
            else if(transactionType=='Expense')
            {
                if(totalexpense=='0'){
                    document.getElementById('total-expensive').innerText=amount
                }
                else{
                    document.getElementById('total-expensive').innerText=parseInt(totalexpense)+parseInt(amount)
                }
                if(totalbalance=='0'){
                document.getElementById('balance').innerText=amount
               }
               else{
                document.getElementById('balance').innerText=parseInt(totalbalance)-parseInt(amount)
               }
            
            }
            if(date!="" && amount!="" && transactionType!="Transaction Type"){
            // code write
            }
            else{
            alert("Enter all the fields");
            }


            console.log("line 106:",amountcell,transactioncell,datecell)
            //console.log('line 96:', date,amount,transactionType);
        }
    </script>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js" integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y" crossorigin="anonymous"></script>

  </body>
</html>
